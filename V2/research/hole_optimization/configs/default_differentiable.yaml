# Default configuration for differentiable optimization
optimizer_type: "differentiable"
random_seed: 42
output_dir: "results"
save_intermediate: true
verbose: true

# Physical constraints for the crutch
constraints:
  # Rod lengths (cm)
  vertical_length: 20.0
  handle_length: 38.0
  forearm_length: 17.0

  # Pivot positions (cm from back of handle)
  vertical_pivot_length: 19.0
  forearm_pivot_length: 19.0

  # Hole constraints
  min_hole_distance: 2.0
  hole_margin: 0.5
  max_holes_per_rod: 20

  # Angle constraints (degrees)
  alpha_min: 85.0
  alpha_max: 115.0
  beta_min: 95.0
  beta_max: 140.0
  gamma_min: -9.0
  gamma_max: 9.0

  # Usability constraint
  require_alpha_beta_sum_ge_180: true

# Optimization objectives
objectives:
  # Primary objectives
  vocabulary_weight: 1.0 # Maximize geometry diversity
  truss_complexity_weight: 0.5 # Minimize unique truss lengths

  # Secondary objectives
  manufacturability_weight: 0.1 # Prefer standard hole spacings
  robustness_weight: 0.1 # Prefer geometries robust to tolerances

  # Constraints
  max_unique_trusses: 15
  min_vocabulary_size: 50

  # Tolerances
  length_tolerance: 0.25 # cm
  angle_tolerance: 1.0 # degrees

# Differentiable optimizer configuration
differentiable:
  learning_rate: 0.01
  max_iterations: 1000
  convergence_threshold: 0.000001

  # Soft selection parameters
  temperature: 0.1
  temperature_schedule: "constant" # "constant", "linear", "exponential"

  # Architecture
  hidden_dims: [64, 32]
  activation: "relu"

  # Regularization
  l2_reg: 0.0001
  dropout_rate: 0.1

# Validation settings
cross_validation_folds: 5
test_split: 0.2
